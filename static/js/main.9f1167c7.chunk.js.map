{"version":3,"sources":["common/UserContext.tsx","components/NavLink.tsx","components/UserPopupNavigation.tsx","components/SpecialistPopupPanelNavigation.tsx","components/Navbar.tsx","pages/Home.tsx","components/Copyrights.tsx","components/SignIn.tsx","pages/Login.tsx","utils/resetUserStorage.ts","pages/Logout.tsx","components/useOwnerCheck.tsx","pages/Owner.tsx","components/SignUp.tsx","pages/Register.tsx","components/Container.tsx","assets/doctor.png","assets/dentist.png","assets/vet.jpg","utils/getJobNameAndPhotoFromEnum.ts","components/PersonCard.tsx","components/SpecialistsGrid.tsx","pages/Specialists.tsx","pages/Unauthorized.tsx","pages/SpecialistAddVisit.tsx","components/SpecialistTable.tsx","pages/SpecialistsList.tsx","components/SignUpSpecialist.tsx","pages/OwnerAddSpecialist.tsx","utils/getDay.ts","pages/SpecialistVisits.tsx","pages/SpecialistRemoveVisits.tsx","pages/UserSpecialistVisits.tsx","pages/UserReservations.tsx","components/Navigation.tsx","components/UserContextUpdate.tsx","App.tsx","utils/axiosInterceptor.ts","index.tsx"],"names":["initData","id","firstName","lastName","phone","role","email","token","UserContext","createContext","user","setUser","NavLink","to","children","marginRight","disableActiveStyles","exact","style","activeStyle","fontWeight","color","textUnderlineOffset","textDecoration","UserPopupNavigation","userContext","useContext","variant","popupId","popupState","name","size","round","bindTrigger","Menu","bindMenu","MenuItem","SpecialistPopupPanelNavigation","Navbar","fontFamily","Home","localStorage","getItem","Copyright","props","Typography","align","Link","href","Date","getFullYear","theme","createTheme","SignIn","useState","open","setOpen","severity","setSeverity","message","setMessage","routerHistory","useHistory","handleClose","loginMutation","useMutation","loginUser","axios","post","onSuccess","data","setItem","toString","push","pathname","state","isSuccess","onError","ThemeProvider","component","maxWidth","Snackbar","autoHideDuration","onClose","Alert","sx","width","Box","marginTop","display","flexDirection","alignItems","Avatar","m","bgcolor","htmlColor","onSubmit","event","preventDefault","formData","FormData","currentTarget","mutate","get","password","noValidate","mt","TextField","margin","required","fullWidth","label","autoComplete","autoFocus","type","Button","disabled","isLoading","mb","backgroundColor","Grid","container","item","Login","resetUserStorage","Logout","useEffect","clearUserContext","useOwnerCheck","useLayoutEffect","console","log","window","location","Owner","SignUp","firstNameError","setFirstNameError","lastNameError","setLastNameError","phoneError","setPhoneError","passwordError","setPasswordError","passwordRepeatedError","setPasswordRepeatedError","emailError","setEmailError","firstNameHelperText","setFirstNameHelperText","setLastNameHelperText","phoneHelperText","setPhoneHelperText","passwordHelperText","setPasswordHelperText","passwordRepeatedHelperText","setPasswordRepeatedHelperText","emailHelperText","setEmailHelperText","validation","passwordRepeated","telephone","length","match","registerMutation","newUser","res","err","request","status","spacing","xs","sm","error","helperText","justifyContent","Register","overflow","Container","marginHorizontal","marginBottom","marginLeft","getJobNameAndPhotoFromEnum","job","img","dentist","doctor","vet","PersonCard","proportion","Card","padding","CardMedia","height","image","alt","maxHeight","CardContent","paddingBottom","gutterBottom","CardActions","onClick","SpecialistsGrid","map","specialist","md","lg","justifySelf","jobName","userId","Specialists","useQuery","then","Unauthorized","SpecialistAddVisit","startDateValue","setStartDateValue","endDateValue","setEndDateValue","startTimeValue","setStartTimeValue","endTimeValue","setEndTimeValue","visitName","setVisitName","duration","setDuration","errorMessage","setErrorMessage","createVisitsFromToMutation","reservationData","JSON","stringify","response","msg","LocalizationProvider","dateAdapter","AdapterDateFns","locale","pl","value","onChange","newValue","target","DatePicker","minDate","renderInput","params","TimePicker","Select","parseInt","moment","date_start","date_end","time_start","time_end","palette","primary","main","plPL","coreplPL","columns","field","headerName","flex","renderCell","openModal","setOpenModal","queryClient","useQueryClient","deleteMutation","delete","invalidateQueries","Modal","position","top","left","transform","border","boxShadow","p","sortable","SpecialistTable","rows","disableColumnMenu","disableExtendRowFullWidth","pageSize","rowsPerPageOptions","disableSelectionOnClick","autoHeight","SpecialistsList","setRows","SignUpSpecialist","redirect","React","setJob","showToast","InputLabel","autoWidth","OwnerAddSpecialist","getDay","d","SpecialistVisits","weekOffset","setWeekOffset","groupedDays","setGroupedDays","groupedDaysKeys","setGroupedDaysKeys","offset","grouped","i","forEach","e","datetime_start","day","Array","from","Object","keys","refetchInterval","isFetching","isRefetching","removeVisitMutation","removeData","cancelVisitMutation","IconButton","dayOfWeek","Accordion","AccordionSummary","expandIcon","fontSize","format","filter","reservation_status","AccordionDetails","List","reservation","j","ListItem","secondaryAction","ListItemText","secondaryTypographyProps","datetime_end","secondary","timestamp","SpecialistRemoveVisits","removeVisitsFromToMutation","UserSpecialistVisits","reserveVisitMutation","reserveData","put","client_id","UserReservations","Navigation","path","UserContextUpdate","enabled","QueryClient","App","client","colors","Provider","defaults","baseURL","interceptors","use","Promise","reject","config","headers","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9f1167c7.chunk.js","sourcesContent":["/* eslint-disable no-unused-vars */\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\n/* eslint-disable @typescript-eslint/no-empty-function */\r\nimport { createContext, useContext, useEffect } from 'react'\r\nimport { userContextModel } from '../models/userContextModel'\r\n\r\nexport const initData = {\r\n  id: 0,\r\n  firstName: '',\r\n  lastName: '',\r\n  phone: '',\r\n  role: '',\r\n  email: '',\r\n  token: '',\r\n}\r\n\r\nconst UserContext = createContext({\r\n  user: initData,\r\n  setUser: (user: userContextModel) => {},\r\n})\r\n\r\nexport const clearUserContext = () => {\r\n  const userContext = useContext(UserContext)\r\n  useEffect(() => {\r\n    userContext.setUser(initData)\r\n  }, [])\r\n}\r\n\r\nexport default UserContext\r\n","import React, { ReactNode } from 'react'\r\nimport { NavLink as NavLinkRouter } from 'react-router-dom'\r\n/** @jsxImportSource @emotion/react */\r\nimport 'twin.macro'\r\ninterface NavLinkProps {\r\n  to: string\r\n  children: ReactNode\r\n  marginRight?: number\r\n  disableActiveStyles?: boolean\r\n  exact?: boolean\r\n}\r\n\r\nconst NavLink = ({\r\n  to,\r\n  children,\r\n  marginRight = 13,\r\n  disableActiveStyles,\r\n  exact = true,\r\n}: NavLinkProps) => {\r\n  return (\r\n    <NavLinkRouter\r\n      style={{ marginRight: marginRight }}\r\n      to={to}\r\n      activeStyle={\r\n        !disableActiveStyles\r\n          ? {\r\n              fontWeight: 'bold',\r\n              color: 'white',\r\n              textUnderlineOffset: 6,\r\n              textDecoration: 'underline',\r\n            }\r\n          : {}\r\n      }\r\n      tw=\"transform hover:(scale-110) transition-duration[250ms]\"\r\n      exact={exact}\r\n    >\r\n      {children}\r\n    </NavLinkRouter>\r\n  )\r\n}\r\nexport default NavLink\r\n","import { Menu, MenuItem } from '@mui/material'\r\nimport PopupState, { bindMenu, bindTrigger } from 'material-ui-popup-state'\r\nimport React, { useContext } from 'react'\r\nimport Avatar from 'react-avatar'\r\nimport UserContext from '../common/UserContext'\r\nimport NavLink from './NavLink'\r\n/** @jsxImportSource @emotion/react */\r\nimport 'twin.macro'\r\n\r\nconst UserPopupNavigation = () => {\r\n  const userContext = useContext(UserContext)\r\n  return (\r\n    <PopupState variant=\"popover\" popupId=\"demo-popup-menu\">\r\n      {(popupState) => (\r\n        <>\r\n          <Avatar\r\n            name={userContext.user.firstName + ' ' + userContext.user.lastName}\r\n            size=\"25\"\r\n            tw=\"mr-2 hover:(scale-110) cursor-pointer\"\r\n            round\r\n            {...bindTrigger(popupState)}\r\n          />\r\n\r\n          <Menu {...bindMenu(popupState)}>\r\n            <NavLink marginRight={0} to=\"/logout\">\r\n              <MenuItem>Wyloguj</MenuItem>\r\n            </NavLink>\r\n          </Menu>\r\n        </>\r\n      )}\r\n    </PopupState>\r\n  )\r\n}\r\n\r\nexport default UserPopupNavigation\r\n","import { Menu } from '@mui/material'\r\nimport PopupState, { bindMenu, bindTrigger } from 'material-ui-popup-state'\r\nimport React, { ReactNode } from 'react'\r\n/** @jsxImportSource @emotion/react */\r\nimport 'twin.macro'\r\n\r\ninterface SpecialistPopupPanelNavigationProps {\r\n  children: ReactNode\r\n}\r\n\r\nconst SpecialistPopupPanelNavigation = ({ children }: SpecialistPopupPanelNavigationProps) => {\r\n  return (\r\n    <PopupState variant=\"popover\" popupId=\"demo-popup-menu\">\r\n      {(popupState) => (\r\n        <>\r\n          <p\r\n            tw=\"transform hover:(scale-110) transition-duration[250ms] cursor-pointer\"\r\n            {...bindTrigger(popupState)}\r\n          >\r\n            Panel\r\n          </p>\r\n          <Menu {...bindMenu(popupState)}>{children}</Menu>\r\n        </>\r\n      )}\r\n    </PopupState>\r\n  )\r\n}\r\n\r\nexport default SpecialistPopupPanelNavigation\r\n","import React, { useContext } from 'react'\r\n\r\nimport UserContext from '../common/UserContext'\r\n/** @jsxImportSource @emotion/react */\r\nimport 'twin.macro'\r\nimport NavLink from './NavLink'\r\nimport UserPopupNavigation from './UserPopupNavigation'\r\nimport SpecialistPopupPanelNavigation from './SpecialistPopupPanelNavigation'\r\nimport { MenuItem } from '@mui/material'\r\n\r\nfunction Navbar() {\r\n  const userContext = useContext(UserContext)\r\n  return (\r\n    <div>\r\n      <div\r\n        style={{ fontFamily: 'Allerta Stencil' }}\r\n        tw=\"bg-blue-800 text-white font-size[30px] pt-5 pb-5 pl-3 pr-3 text-center \"\r\n      >\r\n        SYSTEM REZERWACJI TERMINÓW WIZYT\r\n      </div>\r\n      <div tw=\"bg-blue-800 text-white pb-5 pl-3 pr-3 flex mb-5\">\r\n        <div tw=\"flex\">\r\n          <NavLink to=\"/\">Główna</NavLink>\r\n          {!userContext.user.firstName && <NavLink to=\"/register\">Rejestracja</NavLink>}\r\n          {userContext.user.firstName && <NavLink to=\"/specialists\">Specjaliści</NavLink>}\r\n          {userContext.user.role === 'client' && (\r\n            <NavLink to=\"/user-reservations\">Rezerwacje</NavLink>\r\n          )}\r\n        </div>\r\n        {userContext.user.role === 'owner' && (\r\n          <SpecialistPopupPanelNavigation>\r\n            <>\r\n              <NavLink disableActiveStyles marginRight={0} to=\"/specialists-list\">\r\n                <MenuItem>Lista specjalistów</MenuItem>\r\n              </NavLink>\r\n              <NavLink disableActiveStyles marginRight={0} to=\"/specialist-add\">\r\n                <MenuItem>Dodaj specjalistę</MenuItem>\r\n              </NavLink>\r\n            </>\r\n          </SpecialistPopupPanelNavigation>\r\n        )}\r\n        {userContext.user.role === 'specialist' && (\r\n          <SpecialistPopupPanelNavigation>\r\n            <>\r\n              <NavLink disableActiveStyles marginRight={0} to=\"/add-visit\">\r\n                <MenuItem>Dodaj wizytę</MenuItem>\r\n              </NavLink>\r\n              <NavLink disableActiveStyles marginRight={0} to=\"/show-visits\">\r\n                <MenuItem>Pokaż wizyty</MenuItem>\r\n              </NavLink>\r\n              <NavLink disableActiveStyles marginRight={0} to=\"/delete-visits\">\r\n                <MenuItem>Usuń wizyty</MenuItem>\r\n              </NavLink>\r\n            </>\r\n          </SpecialistPopupPanelNavigation>\r\n        )}\r\n        <div tw=\"flex ml-auto \">\r\n          {userContext.user.firstName && <UserPopupNavigation />}\r\n          {!userContext.user.firstName && (\r\n            <NavLink tw=\"inline\" to=\"/login\">\r\n              <div tw=\"flex\">Login</div>\r\n            </NavLink>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Navbar\r\n","import React from 'react'\r\n/** @jsxImportSource @emotion/react */\r\nimport 'twin.macro'\r\nimport Navbar from '../components/Navbar'\r\n\r\nfunction Home() {\r\n  const token = localStorage.getItem('token')\r\n  return (\r\n    <div>\r\n      <Navbar />\r\n      <p tw=\"font-bold text-center text-2xl pb-5 \">\r\n        Aby zalogować się do systemu, użyj następujących danych:\r\n      </p>\r\n      <p tw=\"pt-2 pl-3 pr-3 font-weight[bold]\">Logowanie użytkownika 1:</p>\r\n      <ul tw=\"list-disc\">\r\n        <li tw=\"pt-2 pl-5 pr-3 \">Login: </li>\r\n        <li tw=\"pt-2 pl-5 pr-3 \">Hasło: </li>\r\n      </ul>\r\n      <p tw=\"pt-2 pl-3 pr-3 font-weight[bold]\">Logowanie użytkownika 2:</p>\r\n      <ul tw=\"list-disc\">\r\n        <li tw=\"pt-2 pl-5 pr-3 \">Login: </li>\r\n        <li tw=\"pt-2 pl-5 pr-3 \">Hasło: </li>\r\n      </ul>\r\n      <p tw=\"pt-2 pl-3 pr-3 font-weight[bold]\">Logowanie specialisty 1:</p>\r\n      <ul tw=\"list-disc\">\r\n        <li tw=\"pt-2 pl-5 pr-3 \">Login: </li>\r\n        <li tw=\"pt-2 pl-5 pr-3 \">Hasło: </li>\r\n      </ul>\r\n      <p tw=\"pt-2 pl-3 pr-3 font-weight[bold]\">Logowanie specialisty 2:</p>\r\n      <ul tw=\"list-disc\">\r\n        <li tw=\"pt-2 pl-5 pr-3 \">Login: </li>\r\n        <li tw=\"pt-2 pl-5 pr-3 \">Hasło: </li>\r\n      </ul>\r\n      <p tw=\"pt-2 pl-3 pr-3 font-weight[bold]\">Logowanie administratora:</p>\r\n      <ul tw=\"list-disc\">\r\n        <li tw=\"pt-2 pl-5 pr-3 \">Login: </li>\r\n        <li tw=\"pt-2 pl-5 pr-3 \">Hasło: </li>\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import { Link, Typography } from '@mui/material'\r\nimport * as React from 'react'\r\n\r\nfunction Copyright(props: any) {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"text.secondary\" align=\"center\" {...props}>\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"/\">\r\n        Kamil Poręba, Paweł Szantula, Konrad Żak, Szymon Uzdowski\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  )\r\n}\r\n\r\nexport default Copyright\r\n","import React, { useContext, useState } from 'react'\r\nimport Avatar from '@mui/material/Avatar'\r\nimport Button from '@mui/material/Button'\r\nimport TextField from '@mui/material/TextField'\r\nimport Link from '@mui/material/Link'\r\nimport Grid from '@mui/material/Grid'\r\nimport Box from '@mui/material/Box'\r\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined'\r\nimport Typography from '@mui/material/Typography'\r\nimport Container from '@mui/material/Container'\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles'\r\nimport Copyright from './Copyrights'\r\nimport axios from 'axios'\r\nimport { useMutation } from 'react-query'\r\nimport { loginModelRequest } from '../models/loginModelRequest'\r\nimport { Alert, AlertColor, Snackbar } from '@mui/material'\r\nimport { useHistory } from 'react-router'\r\nimport UserContext from '../common/UserContext'\r\nimport { loginModelResponse } from '../models/loginModelResponse'\r\nconst theme = createTheme()\r\n\r\nexport default function SignIn() {\r\n  const [open, setOpen] = useState(false)\r\n  const [severity, setSeverity] = useState<AlertColor>('info')\r\n  const [message, setMessage] = useState('Pomyślnie zarejestrowano.')\r\n  const routerHistory = useHistory()\r\n  const userContext = useContext(UserContext)\r\n\r\n  const handleClose = () => {\r\n    setOpen(false)\r\n  }\r\n\r\n  const loginMutation = useMutation<loginModelResponse, unknown, loginModelRequest>(\r\n    (loginUser) => {\r\n      return axios.post('/login', loginUser)\r\n    },\r\n    {\r\n      onSuccess: ({ data }) => {\r\n        localStorage.setItem('token', data.token)\r\n        localStorage.setItem('role', data.role.toString())\r\n        userContext.setUser(data)\r\n        setSeverity('success')\r\n        setOpen(true)\r\n        setMessage('Logowanie pomyślne.')\r\n        routerHistory.push({ pathname: '/specialists', state: { isSuccess: true } })\r\n      },\r\n      onError: () => {\r\n        setSeverity('error')\r\n        setOpen(true)\r\n        setMessage('Błędne dane logowania.')\r\n      },\r\n    },\r\n  )\r\n  const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault()\r\n    const formData = new FormData(event.currentTarget)\r\n    // eslint-disable-next-line no-console\r\n    loginMutation.mutate({\r\n      email: formData.get('email')?.toString() || '',\r\n      password: formData.get('password')?.toString() || '',\r\n    })\r\n  }\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <Container component=\"main\" maxWidth=\"xs\">\r\n        <Snackbar open={open} autoHideDuration={6000} onClose={handleClose}>\r\n          <Alert onClose={handleClose} severity={severity} sx={{ width: '100%' }}>\r\n            {message}\r\n          </Alert>\r\n        </Snackbar>\r\n        <Box\r\n          sx={{\r\n            marginTop: 8,\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'center',\r\n          }}\r\n        >\r\n          <Avatar sx={{ m: 1, bgcolor: 'blue' }}>\r\n            <LockOutlinedIcon htmlColor=\"#FFFFFF\" />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Zaloguj się\r\n          </Typography>\r\n          <Box component=\"form\" onSubmit={handleSubmit} noValidate sx={{ mt: 1 }}>\r\n            <TextField\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"email\"\r\n              label=\"Adres email\"\r\n              name=\"email\"\r\n              autoComplete=\"email\"\r\n              autoFocus\r\n            />\r\n            <TextField\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              name=\"password\"\r\n              label=\"Hasło\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              autoComplete=\"current-password\"\r\n            />\r\n\r\n            <Button\r\n              disabled={loginMutation.isLoading}\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              sx={{\r\n                mt: 3,\r\n                mb: 2,\r\n                backgroundColor: open && severity === 'success' ? 'green' : 'blue',\r\n              }}\r\n            >\r\n              Zaloguj się\r\n            </Button>\r\n            <Grid container>\r\n              <Grid item>\r\n                <Link href=\"/register\" variant=\"body2\">\r\n                  {'Nie masz konta? Zarejestruj się'}\r\n                </Link>\r\n              </Grid>\r\n            </Grid>\r\n          </Box>\r\n        </Box>\r\n        <Copyright sx={{ mt: 8, mb: 4 }} />\r\n      </Container>\r\n    </ThemeProvider>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nimport Navbar from '../components/Navbar'\r\nimport SignIn from '../components/SignIn'\r\n\r\nfunction Login() {\r\n  return (\r\n    <div>\r\n      <Navbar />\r\n      <SignIn />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login\r\n","const resetUserStorage = () => {\r\n  localStorage.setItem('token', '')\r\n  localStorage.setItem('role', '')\r\n}\r\nexport default resetUserStorage\r\n","import React, { useEffect } from 'react'\r\nimport Navbar from '../components/Navbar'\r\nimport resetUserStorage from '../utils/resetUserStorage'\r\nimport { useHistory } from 'react-router'\r\nimport { clearUserContext } from '../common/UserContext'\r\nconst Logout = () => {\r\n  resetUserStorage()\r\n  clearUserContext()\r\n  const routerHistory = useHistory()\r\n  useEffect(() => {\r\n    routerHistory.push('/')\r\n  }, [])\r\n  return (\r\n    <div>\r\n      <Navbar />\r\n      <p>You have been logged out.</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Logout\r\n","import React, { useContext, useEffect, useLayoutEffect } from 'react'\r\nimport UserContext from '../common/UserContext'\r\n\r\nconst useOwnerCheck = () => {\r\n  const userContext = useContext(UserContext)\r\n  useLayoutEffect(() => {\r\n    if (userContext.user.role !== 'owner') {\r\n      console.log('something is wrong')\r\n      window.location.href = 'http://localhost:3000/unauthorized'\r\n    }\r\n  }, [])\r\n}\r\n\r\nexport default useOwnerCheck\r\n","import React from 'react'\r\nimport Navbar from '../components/Navbar'\r\n/** @jsxImportSource @emotion/react */\r\nimport 'twin.macro'\r\n\r\nimport useOwnerCheck from '../components/useOwnerCheck'\r\nfunction Owner() {\r\n  useOwnerCheck()\r\n  return (\r\n    <div>\r\n      <Navbar />\r\n      <p tw=\"text-center text-5xl font-bold\">Owner</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Owner\r\n","import React, { useContext, useState } from 'react'\r\nimport Avatar from '@mui/material/Avatar'\r\nimport Button from '@mui/material/Button'\r\nimport TextField from '@mui/material/TextField'\r\nimport Link from '@mui/material/Link'\r\nimport Grid from '@mui/material/Grid'\r\nimport Box from '@mui/material/Box'\r\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined'\r\nimport Typography from '@mui/material/Typography'\r\nimport Container from '@mui/material/Container'\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles'\r\nimport Copyright from './Copyrights'\r\nimport { useMutation } from 'react-query'\r\nimport axios, { AxiosError } from 'axios'\r\nimport { Alert, AlertColor, Snackbar } from '@mui/material'\r\nimport { registerModelRequest } from '../models/registerModelRequest'\r\nimport { useHistory } from 'react-router'\r\nimport UserContext from '../common/UserContext'\r\nimport { registerModelResponse } from '../models/registerModelResponse'\r\n\r\nconst theme = createTheme()\r\n\r\nexport default function SignUp() {\r\n  const [open, setOpen] = useState(false)\r\n  const [severity, setSeverity] = useState<AlertColor>('success')\r\n  const [message, setMessage] = useState('Pomyślnie zarejestrowano.')\r\n  const routerHistory = useHistory()\r\n  const userContext = useContext(UserContext)\r\n\r\n  const [firstNameError, setFirstNameError] = useState(false)\r\n  const [lastNameError, setLastNameError] = useState(false)\r\n  const [phoneError, setPhoneError] = useState(false)\r\n  const [passwordError, setPasswordError] = useState(false)\r\n  const [passwordRepeatedError, setPasswordRepeatedError] = useState(false)\r\n  const [emailError, setEmailError] = useState(false)\r\n\r\n  const [firstNameHelperText, setFirstNameHelperText] = useState('')\r\n  const [lastNameHelperText, setLastNameHelperText] = useState('')\r\n  const [phoneHelperText, setPhoneHelperText] = useState('')\r\n  const [passwordHelperText, setPasswordHelperText] = useState('')\r\n  const [passwordRepeatedHelperText, setPasswordRepeatedHelperText] = useState('')\r\n  const [emailHelperText, setEmailHelperText] = useState('')\r\n\r\n  const clearValidation = () => {\r\n    setFirstNameError(false)\r\n    setLastNameError(false)\r\n    setPhoneError(false)\r\n    setPasswordError(false)\r\n    setEmailError(false)\r\n    setPasswordRepeatedError(false)\r\n    setFirstNameHelperText('')\r\n    setLastNameHelperText('')\r\n    setPhoneHelperText('')\r\n    setPasswordHelperText('')\r\n    setPasswordRepeatedHelperText('')\r\n    setEmailHelperText('')\r\n  }\r\n\r\n  const validation = (formData: FormData) => {\r\n    clearValidation()\r\n    const email = formData.get('email')?.toString() || ''\r\n    const password = formData.get('password')?.toString() || ''\r\n    const passwordRepeated = formData.get('passwordRepeated')?.toString() || ''\r\n    const firstName = formData.get('firstName')?.toString() || ''\r\n    const lastName = formData.get('lastName')?.toString() || ''\r\n    const telephone = formData.get('telephone')?.toString() || ''\r\n    if (firstName.length < 3) {\r\n      setFirstNameError(true)\r\n      setFirstNameHelperText('Imię musi zawierać minimum 3 znaki')\r\n    } else if (firstName.length > 30) {\r\n      setFirstNameError(true)\r\n      setFirstNameHelperText('Imię musi zawierać maksimum 30 znaków')\r\n    }\r\n    if (firstName.length < 3) {\r\n      setLastNameError(true)\r\n      setLastNameHelperText('Nazwisko musi zawierać minimum 3 znaki')\r\n    } else if (firstName.length > 30) {\r\n      setLastNameError(true)\r\n      setLastNameHelperText('Nazwisko musi zawierać maksimum 30 znaków')\r\n    }\r\n    // eslint-disable-next-line no-useless-escape\r\n    if (!telephone.match(/^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\\s\\./0-9]*$/)) {\r\n      setPhoneError(true)\r\n      setPhoneHelperText('Telefon musi być prawidłowy')\r\n    }\r\n    // eslint-disable-next-line no-useless-escape\r\n    if (\r\n      !email.match(\r\n        // eslint-disable-next-line no-useless-escape\r\n        /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\r\n      )\r\n    ) {\r\n      setEmailError(true)\r\n      setEmailHelperText('Email musi być prawidłowy')\r\n    }\r\n\r\n    if (password.length < 6) {\r\n      setPasswordError(true)\r\n      setPasswordRepeatedError(true)\r\n      setPasswordRepeatedHelperText('Hasła muszą się zgadzać')\r\n      setPasswordHelperText('Hasło musi się składać z minimum 6 liter')\r\n    }\r\n    if (passwordRepeated !== password) {\r\n      setPasswordRepeatedError(true)\r\n      setPasswordRepeatedHelperText('Hasła muszą się zgadzać')\r\n    }\r\n    if (\r\n      firstNameError ||\r\n      lastNameError ||\r\n      emailError ||\r\n      phoneError ||\r\n      passwordError ||\r\n      passwordRepeatedError\r\n    ) {\r\n      return true\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n\r\n  const handleClose = () => {\r\n    setOpen(false)\r\n  }\r\n  const registerMutation = useMutation<registerModelResponse, AxiosError, registerModelRequest>(\r\n    (newUser) => {\r\n      return axios.post('http://localhost:3001/register', newUser)\r\n    },\r\n    {\r\n      onSuccess: (res) => {\r\n        localStorage.setItem('token', res.data.token)\r\n        localStorage.setItem('role', res.data.role.toString())\r\n        userContext.setUser(res.data)\r\n        setSeverity('success')\r\n        setOpen(true)\r\n        setMessage('Pomyślnie utworzono użytkownika')\r\n        routerHistory.push('/specialists')\r\n      },\r\n      onError: (err) => {\r\n        setSeverity('error')\r\n        setOpen(true)\r\n        switch (err.request.status) {\r\n          case 400:\r\n            setMessage('Wszystkie pola muszą być wypełnione')\r\n            break\r\n          case 409:\r\n            setMessage('Użytkownik o takim adresie email istnieje')\r\n            break\r\n          default:\r\n            setMessage('Wystąpił błąd przy rejestracji')\r\n            break\r\n        }\r\n      },\r\n    },\r\n  )\r\n\r\n  const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault()\r\n    const formData = new FormData(event.currentTarget)\r\n    const isError = validation(formData)\r\n    if (!isError) {\r\n      registerMutation.mutate({\r\n        email: formData.get('email')?.toString() || '',\r\n        password: formData.get('password')?.toString() || '',\r\n        firstName: formData.get('firstName')?.toString() || '',\r\n        lastName: formData.get('lastName')?.toString() || '',\r\n        phone: formData.get('telephone')?.toString() || '',\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <Snackbar open={open} autoHideDuration={6000} onClose={handleClose}>\r\n        <Alert onClose={handleClose} severity={severity} sx={{ width: '100%' }}>\r\n          {message}\r\n        </Alert>\r\n      </Snackbar>\r\n      <Box\r\n        sx={{\r\n          marginTop: 8,\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n        }}\r\n      >\r\n        <Avatar sx={{ m: 1, bgcolor: 'blue' }}>\r\n          <LockOutlinedIcon htmlColor=\"#FFFFFF\" />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Zarejestruj się\r\n        </Typography>\r\n        <Box component=\"form\" noValidate onSubmit={handleSubmit} sx={{ mt: 3 }}>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                error={firstNameError}\r\n                helperText={firstNameHelperText}\r\n                autoComplete=\"given-name\"\r\n                name=\"firstName\"\r\n                required\r\n                fullWidth\r\n                id=\"firstName\"\r\n                label=\"Imię\"\r\n                autoFocus\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                error={lastNameError}\r\n                helperText={firstNameHelperText}\r\n                required\r\n                fullWidth\r\n                id=\"lastName\"\r\n                label=\"Nazwisko\"\r\n                name=\"lastName\"\r\n                autoComplete=\"family-name\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                error={emailError}\r\n                helperText={emailHelperText}\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Adres email\"\r\n                name=\"email\"\r\n                autoComplete=\"email\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                error={phoneError}\r\n                helperText={phoneHelperText}\r\n                required\r\n                fullWidth\r\n                name=\"telephone\"\r\n                label=\"Telefon\"\r\n                id=\"telephone\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                error={passwordError}\r\n                helperText={passwordHelperText}\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Hasło\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                error={passwordRepeatedError}\r\n                helperText={passwordRepeatedHelperText}\r\n                required\r\n                fullWidth\r\n                name=\"passwordRepeated\"\r\n                label=\"Hasło powtórzone\"\r\n                type=\"password\"\r\n                id=\"passwordRepeated\"\r\n                autoComplete=\"new-password\"\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n          <Button\r\n            disabled={registerMutation.isLoading}\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            sx={{\r\n              mt: 3,\r\n              mb: 2,\r\n              backgroundColor: open && severity === 'success' ? 'green' : 'blue',\r\n            }}\r\n          >\r\n            Zarejestruj się\r\n          </Button>\r\n\r\n          <Grid container justifyContent=\"flex-start\">\r\n            <Link href=\"/login\" variant=\"body2\">\r\n              Masz już konto? Zaloguj się\r\n            </Link>\r\n          </Grid>\r\n        </Box>\r\n      </Box>\r\n      <Copyright sx={{ mt: 5 }} />\r\n    </Container>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport Navbar from '../components/Navbar'\r\nimport SignUp from '../components/SignUp'\r\n\r\nfunction Register() {\r\n  return (\r\n    <div style={{ overflow: 'auto' }}>\r\n      <Navbar />\r\n      <SignUp />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Register\r\n","import React, { ReactNode } from 'react'\r\n\r\ninterface containerInterface {\r\n  marginHorizontal?: number\r\n  marginBottom?: number\r\n  children?: ReactNode\r\n}\r\n\r\nconst Container = ({\r\n  marginHorizontal = 16,\r\n  children = null,\r\n  marginBottom = 16,\r\n}: containerInterface) => {\r\n  return (\r\n    <div\r\n      style={{ marginBottom, marginLeft: marginHorizontal / 2, marginRight: marginHorizontal / 2 }}\r\n    >\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Container\r\n","export default __webpack_public_path__ + \"static/media/doctor.fa5ce2a2.png\";","export default __webpack_public_path__ + \"static/media/dentist.fa86359f.png\";","export default __webpack_public_path__ + \"static/media/vet.71e7dd65.jpg\";","// TODO: make this function not render on every change\r\nimport doctor from '../assets/doctor.png'\r\nimport dentist from '../assets/dentist.png'\r\nimport vet from '../assets/vet.jpg'\r\n\r\nexport const getJobNameAndPhotoFromEnum = (job: string) => {\r\n  switch (job) {\r\n    case 'dentist':\r\n      return { name: 'Dentysta', img: dentist }\r\n    case 'doctor':\r\n      return { name: 'Doktor', img: doctor }\r\n    case 'vet':\r\n      return { name: 'Weterynarz', img: vet }\r\n    default:\r\n      return { name: 'Doktor', img: doctor }\r\n  }\r\n}\r\n","import * as React from 'react'\r\nimport Card from '@mui/material/Card'\r\nimport CardActions from '@mui/material/CardActions'\r\nimport CardContent from '@mui/material/CardContent'\r\nimport Button from '@mui/material/Button'\r\nimport Typography from '@mui/material/Typography'\r\nimport { CardMedia } from '@mui/material'\r\n\r\nimport { getJobNameAndPhotoFromEnum } from '../utils/getJobNameAndPhotoFromEnum'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useContext } from 'react'\r\nimport UserContext from '../common/UserContext'\r\n\r\ninterface PersonCardProps {\r\n  firstName: string\r\n  lastName: string\r\n  job: string\r\n  id: number\r\n  proportion?: number\r\n}\r\n\r\n//TODO: implement go to reservation page\r\nconst PersonCard = ({ firstName, lastName, job, id, proportion = 1 }: PersonCardProps) => {\r\n  const routerHistory = useHistory()\r\n  const userContext = useContext(UserContext)\r\n\r\n  return (\r\n    <Card sx={{ padding: 0, maxWidth: 200 * proportion, marginLeft: 'auto', marginRight: 'auto' }}>\r\n      <CardMedia\r\n        component=\"img\"\r\n        height=\"150\"\r\n        width=\"150\"\r\n        image={getJobNameAndPhotoFromEnum(job).img}\r\n        alt=\"green iguana\"\r\n        sx={{ maxWidth: 200 * proportion, maxHeight: 200 * proportion }}\r\n      />\r\n      <CardContent sx={{ padding: 1, marginBottom: 0, '&:last-child': { paddingBottom: 0 } }}>\r\n        <Typography gutterBottom variant=\"h5\" component=\"div\">\r\n          {firstName + ' ' + lastName}\r\n        </Typography>\r\n        <Typography variant=\"body2\" color=\"text.secondary\">\r\n          {getJobNameAndPhotoFromEnum(job).name}\r\n        </Typography>\r\n        <CardActions>\r\n          {userContext.user.role === 'client' && (\r\n            <Button\r\n              size=\"small\"\r\n              onClick={() =>\r\n                routerHistory.push({\r\n                  pathname: `/specialist-visits/${id}`,\r\n                  state: { isSuccess: true },\r\n                })\r\n              }\r\n            >\r\n              Rezerwuj Wizytę\r\n            </Button>\r\n          )}\r\n        </CardActions>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default PersonCard\r\n","import { Grid } from '@mui/material'\r\nimport React from 'react'\r\n/** @jsxImportSource @emotion/react */\r\nimport 'twin.macro'\r\nimport PersonCard from './PersonCard'\r\nimport { specialistsModelResponse } from '../models/specialistsModelResponse'\r\n\r\ninterface SpecialistsGridProps {\r\n  data: specialistsModelResponse[] | undefined\r\n}\r\n\r\nconst SpecialistsGrid = ({ data }: SpecialistsGridProps) => {\r\n  return (\r\n    <Grid container spacing={3} alignItems=\"center\" justifyContent=\"center\">\r\n      {data?.map((specialist) => (\r\n        <Grid key={specialist.userId} item xs={4} md={3} lg={2} justifySelf=\"center\">\r\n          <PersonCard\r\n            firstName={specialist.user.firstName}\r\n            lastName={specialist.user.lastName}\r\n            job={specialist.jobName}\r\n            id={specialist.userId}\r\n          />\r\n        </Grid>\r\n      ))}\r\n    </Grid>\r\n  )\r\n}\r\nexport default SpecialistsGrid\r\n","import React from 'react'\r\nimport Navbar from '../components/Navbar'\r\n/** @jsxImportSource @emotion/react */\r\nimport 'twin.macro'\r\nimport { useQuery } from 'react-query'\r\nimport axios from 'axios'\r\nimport Container from '../components/Container'\r\nimport SpecialistsGrid from '../components/SpecialistsGrid'\r\nimport { specialistsModelResponse } from '../models/specialistsModelResponse'\r\n//TODO: Add toast for displaying success after login\r\nconst Specialists = () => {\r\n  const { data, isSuccess } = useQuery(['specialists'], () =>\r\n    axios.get<specialistsModelResponse[]>('/specialists').then((res) => {\r\n      return res.data\r\n    }),\r\n  )\r\n  return (\r\n    <div>\r\n      {isSuccess && (\r\n        <>\r\n          <Navbar />\r\n          <Container marginBottom={10}>\r\n            <p tw=\"text-center text-3xl font-bold pb-10\">Specialiści</p>\r\n\r\n            <SpecialistsGrid data={data} />\r\n          </Container>\r\n        </>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Specialists\r\n","import React from 'react'\r\nimport Navbar from '../components/Navbar'\r\n\r\nconst Unauthorized = () => {\r\n  return (\r\n    <div>\r\n      <Navbar />\r\n      <p>Unauthorized</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Unauthorized\r\n","import React, { useState } from 'react'\r\nimport Navbar from '../components/Navbar'\r\nimport DatePicker from '@mui/lab/DatePicker'\r\nimport TextField from '@mui/material/TextField'\r\n/** @jsxImportSource @emotion/react */\r\nimport 'twin.macro'\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns'\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider'\r\nimport { pl } from 'date-fns/locale'\r\nimport { TimePicker } from '@mui/lab'\r\nimport { Alert, AlertColor, Button, InputLabel, MenuItem, Select, Snackbar } from '@mui/material'\r\nimport moment from 'moment'\r\nimport { useMutation } from 'react-query'\r\nimport axios from 'axios'\r\nimport { addReservationFromToRequest } from '../models/addReservationFromToRequest'\r\n\r\nfunction SpecialistAddVisit() {\r\n  const [open, setOpen] = useState(false)\r\n  const [severity, setSeverity] = useState<AlertColor>('success')\r\n  const [message, setMessage] = useState('')\r\n  const [startDateValue, setStartDateValue] = useState<Date | null>(null)\r\n  const [endDateValue, setEndDateValue] = useState<Date | null>(null)\r\n  const [startTimeValue, setStartTimeValue] = useState<Date | null>(null)\r\n  const [endTimeValue, setEndTimeValue] = useState<Date | null>(null)\r\n  const [visitName, setVisitName] = useState<string>('')\r\n  const [duration, setDuration] = useState(60)\r\n  const [errorMessage, setErrorMessage] = useState<string>('')\r\n\r\n  const handleClose = () => {\r\n    setOpen(false)\r\n  }\r\n\r\n  const handleSubmit = (data: any) => {\r\n    if (!(startDateValue && endDateValue && startTimeValue && endTimeValue)) {\r\n      setErrorMessage('Wszystkie pola muszą być wybrane.')\r\n      return\r\n    }\r\n    if (moment(startDateValue) >= moment(endDateValue)) {\r\n      setErrorMessage('Data początku wizyt musi być późniejsza od daty końca wizyt.')\r\n      return\r\n    }\r\n    if (moment(startTimeValue) > moment(endTimeValue)) {\r\n      setErrorMessage('Czas początku wizyt musi być późniejszy od czasu końca wizyt.')\r\n      return\r\n    }\r\n    setErrorMessage('')\r\n    createVisitsFromToMutation.mutate({\r\n      name: visitName,\r\n      date_start: startDateValue,\r\n      date_end: endDateValue,\r\n      time_start: startTimeValue,\r\n      time_end: endTimeValue,\r\n      duration: duration,\r\n    })\r\n  }\r\n  const createVisitsFromToMutation = useMutation<any, any, addReservationFromToRequest>(\r\n    (reservationData) => {\r\n      return axios.post('/reservation-from-to', reservationData)\r\n    },\r\n    {\r\n      onSuccess: ({ data }) => {\r\n        console.log(JSON.stringify(data))\r\n        setSeverity('success')\r\n        setOpen(true)\r\n        setMessage(data)\r\n      },\r\n      onError: (err) => {\r\n        console.log(err.response.data.msg)\r\n        setSeverity('error')\r\n        setOpen(true)\r\n        setMessage(err.response.data.msg)\r\n      },\r\n    },\r\n  )\r\n  return (\r\n    <div>\r\n      <Navbar />\r\n      <Snackbar open={open} autoHideDuration={6000} onClose={handleClose}>\r\n        <Alert onClose={handleClose} severity={severity} sx={{ width: '100%' }}>\r\n          {message}\r\n        </Alert>\r\n      </Snackbar>\r\n      <p tw=\"text-center text-3xl font-bold pb-10\">Dodawanie wizyty</p>\r\n      <div tw=\"pb-2 ml-2 mr-2\">\r\n        <LocalizationProvider dateAdapter={AdapterDateFns} locale={pl}>\r\n          <div tw=\"grid grid-cols-2  pl-4 pr-4 pt-2 pb-2 \">\r\n            <div tw=\" text-center pb-3 col-span-2 \">\r\n              <TextField\r\n                id=\"outlined-basic\"\r\n                label=\"Nazwa wizyty\"\r\n                variant=\"outlined\"\r\n                value={visitName}\r\n                onChange={(newValue) => setVisitName(newValue.target.value)}\r\n              />\r\n            </div>\r\n            <div tw=\"pr-1 text-right\">\r\n              <DatePicker\r\n                label=\"Data początkowa\"\r\n                minDate={new Date()}\r\n                value={startDateValue}\r\n                onChange={(newValue) => {\r\n                  setStartDateValue(newValue)\r\n                }}\r\n                renderInput={(params) => <TextField {...params} />}\r\n              />\r\n            </div>\r\n            <div tw=\"pl-1 text-left\">\r\n              <DatePicker\r\n                label=\"Data końcowa\"\r\n                minDate={new Date()}\r\n                value={endDateValue}\r\n                onChange={(newValue) => {\r\n                  setEndDateValue(newValue)\r\n                }}\r\n                renderInput={(params) => <TextField {...params} />}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div tw=\"grid grid-cols-2  pl-4 pr-4 pt-4\">\r\n            <div tw=\"pr-1 text-right\">\r\n              <TimePicker\r\n                label=\"Początek wizyt\"\r\n                value={startTimeValue}\r\n                onChange={setStartTimeValue}\r\n                renderInput={(params) => <TextField {...params} />}\r\n              />\r\n            </div>\r\n            <div tw=\"pl-1 text-left\">\r\n              <TimePicker\r\n                label=\"Koniec wizyt\"\r\n                value={endTimeValue}\r\n                onChange={setEndTimeValue}\r\n                renderInput={(params) => <TextField {...params} />}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div tw=\"pt-5 text-center\">\r\n            {/* TODO: FIX THIS LABEL */}\r\n            <Select\r\n              label=\"Czas trwania [min]\"\r\n              value={duration}\r\n              onChange={(newValue) => setDuration(parseInt(newValue.target.value.toString(), 10))}\r\n            >\r\n              <MenuItem value={30}>30 minut</MenuItem>\r\n              <MenuItem value={45}>45 minut</MenuItem>\r\n              <MenuItem value={60}>60 minut</MenuItem>\r\n            </Select>\r\n          </div>\r\n          <div tw=\"text-center\">\r\n            {errorMessage && <p tw=\"text-red-600\">{errorMessage}</p>}\r\n            <Button onClick={handleSubmit} tw=\"mt-5 \" variant=\"contained\">\r\n              Dodaj wizyty\r\n            </Button>\r\n          </div>\r\n        </LocalizationProvider>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SpecialistAddVisit\r\n","import React, { useMemo, useState } from 'react'\r\nimport { useTable } from 'react-table'\r\n/** @jsxImportSource @emotion/react */\r\nimport 'twin.macro'\r\nimport { DataGrid, GridColDef, GridRowModel, GridValueGetterParams, plPL } from '@mui/x-data-grid'\r\n\r\nimport DeleteForeverIcon from '@mui/icons-material/DeleteForever'\r\nimport { plPL as coreplPL } from '@mui/material/locale'\r\nimport { ThemeProvider, createTheme } from '@mui/material/styles'\r\nimport { useMutation, useQueryClient } from 'react-query'\r\nimport axios, { AxiosError } from 'axios'\r\nimport { deleteSpecialistRequest } from '../models/deleteSpecialistRequest'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { Alert, AlertColor, Box, Button, Modal, Snackbar, Typography } from '@mui/material'\r\nconst style = {\r\n  position: 'absolute',\r\n  top: '50%',\r\n  left: '50%',\r\n  transform: 'translate(-50%, -50%)',\r\n  width: 400,\r\n  bgcolor: 'background.paper',\r\n  border: '2px solid #000',\r\n  boxShadow: 24,\r\n  p: 4,\r\n}\r\n\r\nconst renderDetailsButton = (params: any) => {\r\n  const [openModal, setOpenModal] = useState(false)\r\n  const handleOpen = () => setOpenModal(true)\r\n  const handleCloseModal = () => setOpenModal(false)\r\n  const routerHistory = useHistory()\r\n\r\n  const queryClient = useQueryClient()\r\n  const [open, setOpen] = useState(false)\r\n  const [severity, setSeverity] = useState<AlertColor>('success')\r\n  const [message, setMessage] = useState('Pomyślnie zarejestrowano.')\r\n  const handleClose = () => {\r\n    setOpen(false)\r\n  }\r\n\r\n  const deleteMutation = useMutation<unknown, AxiosError, any>(\r\n    (id) => {\r\n      console.log('HERERERERERERER ' + id)\r\n      return axios.delete(`/specialist/${id}`)\r\n    },\r\n    {\r\n      onSuccess: (res) => {\r\n        setSeverity('success')\r\n        setOpen(true)\r\n        setMessage('Pomyślnie usunięto użytkownika.')\r\n        queryClient.invalidateQueries('specialists')\r\n        routerHistory.push('/specialists-list')\r\n      },\r\n      onError: (err) => {\r\n        setSeverity('error')\r\n        setOpen(true)\r\n        setMessage('Wystąpił błąd przy usuwaniu.')\r\n      },\r\n    },\r\n  )\r\n  return (\r\n    <strong tw=\"m-auto\">\r\n      <Modal\r\n        open={openModal}\r\n        onClose={handleCloseModal}\r\n        aria-labelledby=\"modal-modal-title\"\r\n        aria-describedby=\"modal-modal-description\"\r\n      >\r\n        <Box\r\n          sx={{\r\n            position: 'absolute',\r\n            top: '50%',\r\n            left: '50%',\r\n            transform: 'translate(-50%, -50%)',\r\n            width: 400,\r\n            bgcolor: 'background.paper',\r\n            border: '2px solid #000',\r\n            boxShadow: 24,\r\n            p: 4,\r\n          }}\r\n        >\r\n          <Typography tw=\"text-center\" id=\"modal-modal-title\" variant=\"h6\" component=\"h2\">\r\n            Czy na pewno chcesz usunąć użytkownika?\r\n          </Typography>\r\n          <div tw=\"text-center\">\r\n            <Button\r\n              onClick={() => setOpenModal(false)}\r\n              tw=\"bg-blue-600 text-white m-5 hover:(opacity-80 bg-blue-600 transform scale-105)\"\r\n            >\r\n              Nie\r\n            </Button>\r\n            <Button\r\n              onClick={() => deleteMutation.mutate(params.id)}\r\n              tw=\"bg-red-600 text-white m-5 hover:(opacity-80 bg-red-600 transform scale-105)\"\r\n            >\r\n              Tak\r\n            </Button>\r\n          </div>\r\n        </Box>\r\n      </Modal>\r\n      <Snackbar open={open} autoHideDuration={6000} onClose={handleClose}>\r\n        <Alert onClose={handleClose} severity={severity} sx={{ width: '100%' }}>\r\n          {message}\r\n        </Alert>\r\n      </Snackbar>\r\n      <a\r\n        tw=\"cursor-pointer\"\r\n        onClick={() => {\r\n          setOpenModal(true)\r\n        }}\r\n      >\r\n        <DeleteForeverIcon tw=\"text-red-500\" />\r\n      </a>\r\n    </strong>\r\n  )\r\n}\r\nconst theme = createTheme(\r\n  {\r\n    palette: {\r\n      primary: { main: '#1976d2' },\r\n    },\r\n  },\r\n  plPL,\r\n  coreplPL,\r\n)\r\n\r\nconst columns: GridColDef[] = [\r\n  { field: 'id', headerName: 'Id', flex: 1 },\r\n  { field: 'firstName', headerName: 'Imię', flex: 1 },\r\n  { field: 'lastName', headerName: 'Nazwisko', flex: 1 },\r\n  { field: 'phone', headerName: 'Telefon', flex: 1 },\r\n  { field: 'email', headerName: 'E-mail', flex: 1 },\r\n  { field: 'job', headerName: 'Zawód', flex: 1 },\r\n  {\r\n    field: 'remove',\r\n    headerName: 'Usuń',\r\n    renderCell: renderDetailsButton,\r\n    width: 80,\r\n    sortable: false,\r\n    align: 'center',\r\n  },\r\n]\r\n\r\ninterface SpecialistTableProps {\r\n  rows: readonly GridRowModel[]\r\n}\r\n\r\nconst SpecialistTable = ({ rows }: SpecialistTableProps) => {\r\n  return (\r\n    <div tw=\"max-w-4xl m-auto\">\r\n      <ThemeProvider theme={theme}>\r\n        <DataGrid\r\n          disableColumnMenu\r\n          disableExtendRowFullWidth={true}\r\n          // autoHeight\r\n          rows={rows}\r\n          columns={columns}\r\n          pageSize={20}\r\n          rowsPerPageOptions={[20]}\r\n          disableSelectionOnClick\r\n          autoHeight\r\n        />\r\n      </ThemeProvider>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SpecialistTable\r\n","import React, { useState } from 'react'\r\nimport Navbar from '../components/Navbar'\r\n/** @jsxImportSource @emotion/react */\r\nimport 'twin.macro'\r\nimport SpecialistTable from '../components/SpecialistTable'\r\nimport { GridRowData } from '@mui/x-data-grid'\r\nimport { useQuery } from 'react-query'\r\nimport axios from 'axios'\r\nimport { specialistsModelResponse } from '../models/specialistsModelResponse'\r\nimport { getJobNameAndPhotoFromEnum } from '../utils/getJobNameAndPhotoFromEnum'\r\n\r\nconst rows: readonly GridRowData[] = [\r\n  {\r\n    id: 1,\r\n    firstName: 'Jon',\r\n    lastName: 'Snow',\r\n    phone: '123456',\r\n    email: 'test@o2.pl',\r\n    job: 'dentist',\r\n  },\r\n]\r\nconst SpecialistsList = () => {\r\n  const [rows, setRows] = useState([\r\n    {\r\n      id: 0,\r\n    },\r\n  ])\r\n  const { data, isSuccess } = useQuery(['specialists'], () =>\r\n    axios.get<specialistsModelResponse[]>('/specialists').then((res) => {\r\n      setRows(\r\n        res.data.map((specialist) => ({\r\n          id: specialist.userId,\r\n          firstName: specialist.user.firstName,\r\n          lastName: specialist.user.lastName,\r\n          phone: specialist.user.phone,\r\n          email: specialist.user.email,\r\n          job: getJobNameAndPhotoFromEnum(specialist.jobName).name,\r\n        })),\r\n      )\r\n      return res.data\r\n    }),\r\n  )\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <SpecialistTable rows={rows} />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default SpecialistsList\r\n","import React, { useContext, useState } from 'react'\r\nimport Button from '@mui/material/Button'\r\nimport TextField from '@mui/material/TextField'\r\nimport Grid from '@mui/material/Grid'\r\nimport Box from '@mui/material/Box'\r\nimport Typography from '@mui/material/Typography'\r\nimport Container from '@mui/material/Container'\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles'\r\nimport { useMutation } from 'react-query'\r\nimport axios, { AxiosError } from 'axios'\r\nimport {\r\n  Alert,\r\n  AlertColor,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n  SelectChangeEvent,\r\n  Snackbar,\r\n} from '@mui/material'\r\nimport { Redirect } from 'react-router'\r\nimport { useHistory } from 'react-router'\r\nimport UserContext from '../common/UserContext'\r\nimport { registerModelResponse } from '../models/registerModelResponse'\r\nimport { jobEnum } from '../enums/enums'\r\nimport { registerSpecialistModelRequest } from '../models/registerSpecialistModelRequest'\r\n\r\nconst theme = createTheme()\r\n\r\nexport default function SignUpSpecialist() {\r\n  const [open, setOpen] = useState(false)\r\n  const [severity, setSeverity] = useState<AlertColor>('success')\r\n  const [message, setMessage] = useState('Pomyślnie zarejestrowano.')\r\n  const [redirect] = useState(false)\r\n  const routerHistory = useHistory()\r\n  const userContext = useContext(UserContext)\r\n  const [job, setJob] = React.useState('doctor')\r\n  const handleChange = (event: SelectChangeEvent) => {\r\n    setJob(event.target.value as string)\r\n  }\r\n  const handleClose = () => {\r\n    setOpen(false)\r\n  }\r\n  const registerMutation = useMutation<\r\n    registerModelResponse,\r\n    AxiosError,\r\n    registerSpecialistModelRequest\r\n  >(\r\n    (newUser) => {\r\n      return axios.post('/add-specialist', newUser)\r\n    },\r\n    {\r\n      onSuccess: (res) => {\r\n        routerHistory.push('/specialists-list')\r\n      },\r\n      onError: (err) => {\r\n        setSeverity('error')\r\n        setOpen(true)\r\n        switch (err.request.status) {\r\n          case 400:\r\n            setMessage('Wszystkie pola muszą być wypełnione.')\r\n            break\r\n          case 409:\r\n            setMessage('Użytkownik o takim adresie email istnieje.')\r\n            break\r\n          default:\r\n            setMessage('Wystąpił błąd przy tworzeniu konta specjalisty.')\r\n            break\r\n        }\r\n      },\r\n    },\r\n  )\r\n\r\n  const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault()\r\n    const formData = new FormData(event.currentTarget)\r\n    // eslint-disable-next-line no-console\r\n    registerMutation.mutate({\r\n      email: formData.get('email')?.toString() || '',\r\n      password: formData.get('password')?.toString() || '',\r\n      firstName: formData.get('firstName')?.toString() || '',\r\n      lastName: formData.get('lastName')?.toString() || '',\r\n      phone: formData.get('telephone')?.toString() || '',\r\n      jobName: job || '',\r\n    })\r\n  }\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      {redirect && <Redirect to={{ pathname: '/specialists', state: { showToast: true } }} />}\r\n      <Container component=\"main\" maxWidth=\"xs\">\r\n        <Snackbar open={open} autoHideDuration={6000} onClose={handleClose}>\r\n          <Alert onClose={handleClose} severity={severity} sx={{ width: '100%' }}>\r\n            {message}\r\n          </Alert>\r\n        </Snackbar>\r\n        <Box\r\n          sx={{\r\n            marginTop: 8,\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'center',\r\n          }}\r\n        >\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Utwórz specjalistę\r\n          </Typography>\r\n          <Box component=\"form\" noValidate onSubmit={handleSubmit} sx={{ mt: 3 }}>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12} sm={6}>\r\n                <TextField\r\n                  autoComplete=\"given-name\"\r\n                  name=\"firstName\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"firstName\"\r\n                  label=\"Imię\"\r\n                  autoFocus\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} sm={6}>\r\n                <TextField\r\n                  required\r\n                  fullWidth\r\n                  id=\"lastName\"\r\n                  label=\"Nazwisko\"\r\n                  name=\"lastName\"\r\n                  autoComplete=\"family-name\"\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  required\r\n                  fullWidth\r\n                  id=\"email\"\r\n                  label=\"Adres email\"\r\n                  name=\"email\"\r\n                  autoComplete=\"email\"\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  required\r\n                  fullWidth\r\n                  name=\"telephone\"\r\n                  label=\"Telefon\"\r\n                  id=\"telephone\"\r\n                  autoComplete=\"telephone\"\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  required\r\n                  fullWidth\r\n                  name=\"password\"\r\n                  label=\"Hasło\"\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  autoComplete=\"new-password\"\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <InputLabel>Praca</InputLabel>\r\n                <Select id=\"job\" required fullWidth value={job} onChange={handleChange} autoWidth>\r\n                  <MenuItem value={'doctor'}>Doktor</MenuItem>\r\n                  <MenuItem value={'vet'}>Weterynarz</MenuItem>\r\n                  <MenuItem value={'dentist'}>Dentysta</MenuItem>\r\n                </Select>\r\n              </Grid>\r\n            </Grid>\r\n            <Button\r\n              disabled={registerMutation.isLoading}\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              sx={{\r\n                mt: 3,\r\n                mb: 2,\r\n                backgroundColor: open && severity === 'success' ? 'green' : 'blue',\r\n              }}\r\n            >\r\n              Dodaj specjalistę\r\n            </Button>\r\n          </Box>\r\n        </Box>\r\n      </Container>\r\n    </ThemeProvider>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport Navbar from '../components/Navbar'\r\n/** @jsxImportSource @emotion/react */\r\nimport 'twin.macro'\r\nimport SignUpSpecialist from '../components/SignUpSpecialist'\r\n\r\nfunction OwnerAddSpecialist() {\r\n  return (\r\n    <div>\r\n      <Navbar />\r\n      <SignUpSpecialist />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default OwnerAddSpecialist\r\n","export const getDay = (d: number) => {\r\n  switch (d) {\r\n    case 0:\r\n      return 'Niedziela'\r\n    case 1:\r\n      return 'Poniedziałek'\r\n    case 2:\r\n      return 'Wtorek'\r\n    case 3:\r\n      return 'Środa'\r\n    case 4:\r\n      return 'Czwartek'\r\n    case 5:\r\n      return 'Piątek'\r\n    case 6:\r\n      return 'Sobota'\r\n    default:\r\n      return ''\r\n  }\r\n}\r\n","import React, { useState } from 'react'\r\nimport Navbar from '../components/Navbar'\r\nimport DeleteForeverIcon from '@mui/icons-material/DeleteForever'\r\n/** @jsxImportSource @emotion/react */\r\nimport 'twin.macro'\r\nimport { useMutation, useQuery, useQueryClient } from 'react-query'\r\nimport axios from 'axios'\r\nimport { specialistReservationsListResponse } from '../models/specialistReservationsResponse'\r\nimport moment from 'moment'\r\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight'\r\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft'\r\nimport CancelIcon from '@mui/icons-material/Cancel'\r\nimport {\r\n  Accordion,\r\n  AccordionDetails,\r\n  AccordionSummary,\r\n  Alert,\r\n  AlertColor,\r\n  IconButton,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  Snackbar,\r\n  Typography,\r\n} from '@mui/material'\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore'\r\nimport { removeReservationRequest } from '../models/removeReservation'\r\nimport { getDay } from '../utils/getDay'\r\nimport { cancelReservationRequest } from '../models/cancelReservationRequest'\r\n\r\nfunction SpecialistVisits() {\r\n  const queryClient = useQueryClient()\r\n  const [weekOffset, setWeekOffset] = useState(0)\r\n  const [groupedDays, setGroupedDays] = useState<any>(null)\r\n  const [groupedDaysKeys, setGroupedDaysKeys] = useState<any>([])\r\n  const [open, setOpen] = useState(false)\r\n  const [severity, setSeverity] = useState<AlertColor>('success')\r\n  const [message, setMessage] = useState('')\r\n  const handleClose = () => {\r\n    setOpen(false)\r\n  }\r\n  const { isFetching, isRefetching } = useQuery(\r\n    [`specialist-visits`, { offset: weekOffset }],\r\n    () =>\r\n      axios\r\n        .get<specialistReservationsListResponse>(`/specialist-vists/${weekOffset}`)\r\n        .then((res) => {\r\n          const grouped: any = {}\r\n\r\n          for (let i = 1; i < 7; i++) {\r\n            grouped[getDay(i)] = []\r\n          }\r\n          grouped['Niedziela'] = []\r\n          res.data.forEach((e) => {\r\n            grouped[getDay(moment(e.datetime_start).day())] = [\r\n              ...grouped[getDay(moment(e.datetime_start).day())],\r\n              e,\r\n            ]\r\n          })\r\n          setGroupedDays(grouped)\r\n          setGroupedDaysKeys(Array.from(Object.keys(grouped)))\r\n\r\n          return grouped\r\n        }),\r\n    { refetchInterval: 50000 },\r\n  )\r\n\r\n  const removeVisitMutation = useMutation<any, any, removeReservationRequest>(\r\n    (removeData) => {\r\n      return axios.post('/delete-reservation', removeData)\r\n    },\r\n    {\r\n      onSuccess: ({ data }) => {\r\n        queryClient.invalidateQueries('specialist-visits')\r\n        console.log(JSON.stringify(data))\r\n        setSeverity('success')\r\n        setOpen(true)\r\n        setMessage(data)\r\n      },\r\n      onError: (err) => {\r\n        console.log(err.response.data.msg)\r\n        setSeverity('error')\r\n        setOpen(true)\r\n        setMessage(err.response.data.msg)\r\n      },\r\n    },\r\n  )\r\n  const cancelVisitMutation = useMutation<any, any, cancelReservationRequest>(\r\n    (removeData) => {\r\n      return axios.post('/cancel-reservation', removeData)\r\n    },\r\n    {\r\n      onSuccess: ({ data }) => {\r\n        queryClient.invalidateQueries('specialist-visits')\r\n        console.log(JSON.stringify(data))\r\n        setSeverity('success')\r\n        setOpen(true)\r\n        setMessage(data)\r\n      },\r\n      onError: (err) => {\r\n        console.log(err.response.data.msg)\r\n        setSeverity('error')\r\n        setOpen(true)\r\n        setMessage(err.response.data.msg)\r\n      },\r\n    },\r\n  )\r\n\r\n  //TODO: eliminate jumping title\r\n  return (\r\n    <div>\r\n      <Navbar />\r\n      <Snackbar open={open} autoHideDuration={6000} onClose={handleClose}>\r\n        <Alert onClose={handleClose} severity={severity} sx={{ width: '100%' }}>\r\n          {message}\r\n        </Alert>\r\n      </Snackbar>\r\n\r\n      <div tw=\"text-center flex justify-center items-center\">\r\n        {weekOffset > 0 && (\r\n          <IconButton onClick={() => setWeekOffset(weekOffset - 1)}>\r\n            <ChevronLeftIcon />\r\n          </IconButton>\r\n        )}\r\n\r\n        <p tw=\"text-center text-3xl font-bold\">Rezerwacje</p>\r\n        <IconButton onClick={() => setWeekOffset(weekOffset + 1)}>\r\n          <ChevronRightIcon />\r\n        </IconButton>\r\n      </div>\r\n\r\n      <div tw=\"max-w-xl m-auto mt-5\">\r\n        {(!isFetching || isRefetching) &&\r\n          groupedDaysKeys?.length > 0 &&\r\n          groupedDaysKeys.map((dayOfWeek: any, i: any) => {\r\n            return (\r\n              groupedDays[dayOfWeek]?.length > 0 && (\r\n                <Accordion key={i} tw=\"m-auto shadow-md mb-1 mr-5 ml-5\">\r\n                  <AccordionSummary expandIcon={<ExpandMoreIcon />}>\r\n                    <div>\r\n                      <Typography sx={{ fontWeight: 'bold', fontSize: 20 }}>\r\n                        {dayOfWeek +\r\n                          ' - ' +\r\n                          moment(groupedDays[dayOfWeek][0]?.datetime_start)\r\n                            .format('DD.MM.YYYY')\r\n                            .toString()}\r\n                      </Typography>\r\n                      {groupedDays[dayOfWeek].filter((d: any) => d.reservation_status === 'free')\r\n                        .length > 0 && (\r\n                        <Typography sx={{ color: 'green' }}>\r\n                          Wolne wizyty{': '}\r\n                          {\r\n                            groupedDays[dayOfWeek].filter(\r\n                              (d: any) => d.reservation_status === 'free',\r\n                            ).length\r\n                          }\r\n                        </Typography>\r\n                      )}\r\n                      {groupedDays[dayOfWeek].filter(\r\n                        (d: any) => d.reservation_status === 'reserved',\r\n                      ).length > 0 && (\r\n                        <Typography sx={{ color: 'red' }}>\r\n                          Zarezerwowane wizyty{': '}\r\n                          {\r\n                            groupedDays[dayOfWeek].filter(\r\n                              (d: any) => d.reservation_status === 'reserved',\r\n                            ).length\r\n                          }{' '}\r\n                        </Typography>\r\n                      )}\r\n                      <Typography sx={{ color: 'blue' }}>\r\n                        Wszystkie wizyty: {groupedDays[dayOfWeek].length}{' '}\r\n                      </Typography>\r\n                    </div>\r\n                  </AccordionSummary>\r\n                  <AccordionDetails tw=\"mt-0\">\r\n                    <List sx={{ width: '100%', bgcolor: 'background.paper' }}>\r\n                      {groupedDays[dayOfWeek].map((reservation: any, j: any) => (\r\n                        <ListItem\r\n                          key={j}\r\n                          tw=\"border-b-2\"\r\n                          secondaryAction={\r\n                            <>\r\n                              {reservation.reservation_status === 'reserved' && (\r\n                                <IconButton\r\n                                  onClick={() => cancelVisitMutation.mutate({ id: reservation.id })}\r\n                                >\r\n                                  <CancelIcon />\r\n                                </IconButton>\r\n                              )}\r\n                              <IconButton\r\n                                onClick={() => removeVisitMutation.mutate({ id: reservation.id })}\r\n                              >\r\n                                <DeleteForeverIcon />\r\n                              </IconButton>\r\n                            </>\r\n                          }\r\n                        >\r\n                          <ListItemText\r\n                            secondaryTypographyProps={{ color: 'red' }}\r\n                            primary={\r\n                              moment(reservation.datetime_start).format('DD.MM.YYYY').toString() +\r\n                              ' - ' +\r\n                              moment(reservation.datetime_start).format('HH:mm') +\r\n                              '-' +\r\n                              moment(reservation.datetime_end).format('HH:mm')\r\n                            }\r\n                            secondary={\r\n                              reservation?.user\r\n                                ? '' +\r\n                                  reservation?.user.firstName +\r\n                                  ' ' +\r\n                                  reservation?.user.lastName +\r\n                                  ' - ' +\r\n                                  reservation?.user.phone +\r\n                                  ' - ' +\r\n                                  reservation?.user.email +\r\n                                  ' - ' +\r\n                                  moment(reservation?.timestamp).format('DD.MM.YYYY') +\r\n                                  ' - ' +\r\n                                  moment(reservation?.timestamp).format('HH:mm')\r\n                                : ''\r\n                            }\r\n                          />\r\n                        </ListItem>\r\n                      ))}\r\n                    </List>\r\n                  </AccordionDetails>\r\n                </Accordion>\r\n              )\r\n            )\r\n          })}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SpecialistVisits\r\n","import React, { useState } from 'react'\r\nimport Navbar from '../components/Navbar'\r\nimport DatePicker from '@mui/lab/DatePicker'\r\nimport TextField from '@mui/material/TextField'\r\n/** @jsxImportSource @emotion/react */\r\nimport 'twin.macro'\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns'\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider'\r\nimport { pl } from 'date-fns/locale'\r\n\r\nimport { Alert, AlertColor, Button, Snackbar } from '@mui/material'\r\nimport moment from 'moment'\r\nimport { useMutation, useQueryClient } from 'react-query'\r\nimport axios from 'axios'\r\nimport { removeReservationFromToRequest } from '../models/removeReservationFromToRequest'\r\n\r\nfunction SpecialistRemoveVisits() {\r\n  const queryClient = useQueryClient()\r\n  const [open, setOpen] = useState(false)\r\n  const [severity, setSeverity] = useState<AlertColor>('success')\r\n  const [message, setMessage] = useState('')\r\n  const [startDateValue, setStartDateValue] = useState<Date | null>(null)\r\n  const [endDateValue, setEndDateValue] = useState<Date | null>(null)\r\n  const [errorMessage, setErrorMessage] = useState<string>('')\r\n\r\n  const handleClose = () => {\r\n    setOpen(false)\r\n  }\r\n\r\n  const handleSubmit = () => {\r\n    if (!(startDateValue && endDateValue)) {\r\n      setErrorMessage('Wszystkie pola muszą być wybrane.')\r\n      return\r\n    }\r\n    if (moment(startDateValue) >= moment(endDateValue)) {\r\n      setErrorMessage('Data początku usuwania wizyt musi być późniejsza od daty końca wizyt.')\r\n      return\r\n    }\r\n    setErrorMessage('')\r\n    removeVisitsFromToMutation.mutate({\r\n      date_start: startDateValue,\r\n      date_end: endDateValue,\r\n    })\r\n  }\r\n  const removeVisitsFromToMutation = useMutation<any, any, removeReservationFromToRequest>(\r\n    (removeData) => {\r\n      return axios.post('/delete-reservation-from-to', removeData)\r\n    },\r\n    {\r\n      onSuccess: ({ data }) => {\r\n        queryClient.invalidateQueries('specialist-visits')\r\n        console.log(JSON.stringify(data))\r\n        setSeverity('success')\r\n        setOpen(true)\r\n        setMessage(data)\r\n      },\r\n      onError: (err) => {\r\n        console.log(err.response.data.msg)\r\n        setSeverity('error')\r\n        setOpen(true)\r\n        setMessage(err.response.data.msg)\r\n      },\r\n    },\r\n  )\r\n\r\n  return (\r\n    <div>\r\n      <Navbar />\r\n      <Snackbar open={open} autoHideDuration={6000} onClose={handleClose}>\r\n        <Alert onClose={handleClose} severity={severity} sx={{ width: '100%' }}>\r\n          {message}\r\n        </Alert>\r\n      </Snackbar>\r\n      <p tw=\"text-center text-3xl font-bold pb-10\">Usuwanie wizyt</p>\r\n      <div tw=\"pb-2 ml-2 mr-2\">\r\n        <LocalizationProvider dateAdapter={AdapterDateFns} locale={pl}>\r\n          <div tw=\"grid grid-cols-2  pl-4 pr-4 pt-2 pb-2 \">\r\n            <div tw=\"pr-1 text-right\">\r\n              <DatePicker\r\n                label=\"Data początkowa\"\r\n                value={startDateValue}\r\n                onChange={(newValue) => {\r\n                  setStartDateValue(newValue)\r\n                }}\r\n                renderInput={(params) => <TextField {...params} />}\r\n              />\r\n            </div>\r\n            <div tw=\"pl-1 text-left\">\r\n              <DatePicker\r\n                label=\"Data końcowa\"\r\n                value={endDateValue}\r\n                onChange={(newValue) => {\r\n                  setEndDateValue(newValue)\r\n                }}\r\n                renderInput={(params) => <TextField {...params} />}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div tw=\"text-center\">\r\n            {errorMessage && <p tw=\"text-red-600\">{errorMessage}</p>}\r\n            <Button onClick={handleSubmit} tw=\"mt-5 \" variant=\"contained\">\r\n              Usuń wizyty\r\n            </Button>\r\n          </div>\r\n        </LocalizationProvider>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SpecialistRemoveVisits\r\n","import React, { useContext, useState } from 'react'\r\nimport Navbar from '../components/Navbar'\r\nimport DeleteForeverIcon from '@mui/icons-material/DeleteForever'\r\n/** @jsxImportSource @emotion/react */\r\nimport 'twin.macro'\r\nimport { useMutation, useQuery, useQueryClient } from 'react-query'\r\nimport axios from 'axios'\r\nimport { specialistReservationsListResponse } from '../models/specialistReservationsResponse'\r\nimport moment from 'moment'\r\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight'\r\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft'\r\nimport CancelIcon from '@mui/icons-material/Cancel'\r\nimport {\r\n  Accordion,\r\n  AccordionDetails,\r\n  AccordionSummary,\r\n  Alert,\r\n  AlertColor,\r\n  IconButton,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  Snackbar,\r\n  Typography,\r\n} from '@mui/material'\r\nimport ControlPointIcon from '@mui/icons-material/ControlPoint'\r\nimport RemoveIcon from '@mui/icons-material/Remove'\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore'\r\nimport { removeReservationRequest } from '../models/removeReservation'\r\nimport { getDay } from '../utils/getDay'\r\nimport { cancelReservationRequest } from '../models/cancelReservationRequest'\r\nimport UserContext from '../common/UserContext'\r\n\r\nfunction UserSpecialistVisits(props: any) {\r\n  const userContext = useContext(UserContext)\r\n  console.log('HERE: ' + props.match.params.id)\r\n  const queryClient = useQueryClient()\r\n  const [weekOffset, setWeekOffset] = useState(0)\r\n  const [groupedDays, setGroupedDays] = useState<any>(null)\r\n  const [groupedDaysKeys, setGroupedDaysKeys] = useState<any>([])\r\n  const [open, setOpen] = useState(false)\r\n  const [severity, setSeverity] = useState<AlertColor>('success')\r\n  const [message, setMessage] = useState('')\r\n  const handleClose = () => {\r\n    setOpen(false)\r\n  }\r\n  const { isFetching, isRefetching } = useQuery(\r\n    [`specialist-visits`, { offset: weekOffset, id: props.match.params.id }],\r\n    () =>\r\n      axios\r\n        .get<specialistReservationsListResponse>(\r\n          `/week-reservation/${props.match.params.id}/${weekOffset}`,\r\n        )\r\n        .then((res) => {\r\n          const grouped: any = {}\r\n\r\n          for (let i = 1; i < 7; i++) {\r\n            grouped[getDay(i)] = []\r\n          }\r\n          grouped['Niedziela'] = []\r\n          res.data.forEach((e) => {\r\n            grouped[getDay(moment(e.datetime_start).day())] = [\r\n              ...grouped[getDay(moment(e.datetime_start).day())],\r\n              e,\r\n            ]\r\n          })\r\n          setGroupedDays(grouped)\r\n          setGroupedDaysKeys(Array.from(Object.keys(grouped)))\r\n\r\n          return grouped\r\n        }),\r\n    { refetchInterval: 50000 },\r\n  )\r\n\r\n  const reserveVisitMutation = useMutation<any, any, removeReservationRequest>(\r\n    (reserveData) => {\r\n      return axios.put('/reserve', reserveData)\r\n    },\r\n    {\r\n      onSuccess: ({ data }) => {\r\n        queryClient.invalidateQueries('specialist-visits')\r\n        console.log(JSON.stringify(data))\r\n        setSeverity('success')\r\n        setOpen(true)\r\n        setMessage(data)\r\n      },\r\n      onError: (err) => {\r\n        console.log(err.response.data.msg)\r\n        setSeverity('error')\r\n        setOpen(true)\r\n        setMessage(err.response.data.msg)\r\n      },\r\n    },\r\n  )\r\n  const cancelVisitMutation = useMutation<any, any, cancelReservationRequest>(\r\n    (removeData) => {\r\n      return axios.put('/cancel-user-reservation', removeData)\r\n    },\r\n    {\r\n      onSuccess: ({ data }) => {\r\n        queryClient.invalidateQueries('specialist-visits')\r\n        console.log(JSON.stringify(data))\r\n        setSeverity('success')\r\n        setOpen(true)\r\n        setMessage(data)\r\n      },\r\n      onError: (err) => {\r\n        console.log(err.response.data.msg)\r\n        setSeverity('error')\r\n        setOpen(true)\r\n        setMessage(err.response.data.msg)\r\n      },\r\n    },\r\n  )\r\n\r\n  //TODO: eliminate jumping title\r\n  return (\r\n    <div>\r\n      <Navbar />\r\n      <Snackbar open={open} autoHideDuration={6000} onClose={handleClose}>\r\n        <Alert onClose={handleClose} severity={severity} sx={{ width: '100%' }}>\r\n          {message}\r\n        </Alert>\r\n      </Snackbar>\r\n\r\n      <div tw=\"text-center flex justify-center items-center\">\r\n        {weekOffset > 0 && (\r\n          <IconButton onClick={() => setWeekOffset(weekOffset - 1)}>\r\n            <ChevronLeftIcon />\r\n          </IconButton>\r\n        )}\r\n        <p tw=\"text-center text-3xl font-bold\">Rezerwacje - widok użytkownika</p>\r\n        <IconButton onClick={() => setWeekOffset(weekOffset + 1)}>\r\n          <ChevronRightIcon />\r\n        </IconButton>\r\n      </div>\r\n\r\n      <div tw=\"max-w-xl m-auto mt-5\">\r\n        {(!isFetching || isRefetching) &&\r\n          groupedDaysKeys?.length > 0 &&\r\n          groupedDaysKeys.map((dayOfWeek: any, i: any) => {\r\n            return (\r\n              groupedDays[dayOfWeek]?.length > 0 && (\r\n                <Accordion key={i} tw=\"m-auto shadow-md mb-1 mr-5 ml-5\">\r\n                  <AccordionSummary expandIcon={<ExpandMoreIcon />}>\r\n                    <div>\r\n                      <Typography sx={{ fontWeight: 'bold', fontSize: 20 }}>\r\n                        {dayOfWeek +\r\n                          ' - ' +\r\n                          moment(groupedDays[dayOfWeek][0]?.datetime_start)\r\n                            .format('DD.MM.YYYY')\r\n                            .toString()}\r\n                      </Typography>\r\n                      {groupedDays[dayOfWeek].filter((d: any) => d.reservation_status === 'free')\r\n                        .length > 0 && (\r\n                        <Typography sx={{ color: 'green' }}>\r\n                          Wolne wizyty{': '}\r\n                          {\r\n                            groupedDays[dayOfWeek].filter(\r\n                              (d: any) => d.reservation_status === 'free',\r\n                            ).length\r\n                          }\r\n                        </Typography>\r\n                      )}\r\n                      {groupedDays[dayOfWeek].filter(\r\n                        (d: any) => d.reservation_status === 'reserved',\r\n                      ).length > 0 && (\r\n                        <Typography sx={{ color: 'red' }}>\r\n                          Zarezerwowane wizyty{': '}\r\n                          {\r\n                            groupedDays[dayOfWeek].filter(\r\n                              (d: any) => d.reservation_status === 'reserved',\r\n                            ).length\r\n                          }{' '}\r\n                        </Typography>\r\n                      )}\r\n                      <Typography sx={{ color: 'blue' }}>\r\n                        Wszystkie wizyty: {groupedDays[dayOfWeek].length}{' '}\r\n                      </Typography>\r\n                    </div>\r\n                  </AccordionSummary>\r\n                  <AccordionDetails tw=\"mt-0\">\r\n                    <List sx={{ width: '100%', bgcolor: 'background.paper' }}>\r\n                      {groupedDays[dayOfWeek].map((reservation: any, j: any) => (\r\n                        <ListItem\r\n                          key={j}\r\n                          tw=\"border-b-2\"\r\n                          secondaryAction={\r\n                            <>\r\n                              {reservation.client_id === userContext.user.id ? (\r\n                                <IconButton\r\n                                  onClick={() => cancelVisitMutation.mutate({ id: reservation.id })}\r\n                                >\r\n                                  Anuluj\r\n                                  <CancelIcon />\r\n                                </IconButton>\r\n                              ) : !reservation.client_id ? (\r\n                                <IconButton\r\n                                  onClick={() =>\r\n                                    reserveVisitMutation.mutate({ id: reservation.id })\r\n                                  }\r\n                                >\r\n                                  Rezerwuj\r\n                                  <ControlPointIcon />\r\n                                </IconButton>\r\n                              ) : (\r\n                                'Zarezerwowane'\r\n                              )}\r\n                            </>\r\n                          }\r\n                        >\r\n                          <ListItemText\r\n                            secondaryTypographyProps={{ color: 'red' }}\r\n                            primary={\r\n                              moment(reservation.datetime_start).format('DD.MM.YYYY').toString() +\r\n                              ' - ' +\r\n                              moment(reservation.datetime_start).format('HH:mm') +\r\n                              '-' +\r\n                              moment(reservation.datetime_end).format('HH:mm')\r\n                            }\r\n                            secondary={\r\n                              reservation.client_id === userContext.user.id &&\r\n                              'Zarezerwowane przez ciebie'\r\n                            }\r\n                          />\r\n                        </ListItem>\r\n                      ))}\r\n                    </List>\r\n                  </AccordionDetails>\r\n                </Accordion>\r\n              )\r\n            )\r\n          })}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserSpecialistVisits\r\n","import {\r\n  Alert,\r\n  AlertColor,\r\n  IconButton,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  Snackbar,\r\n} from '@mui/material'\r\nimport axios from 'axios'\r\nimport React, { useState } from 'react'\r\nimport { useMutation, useQuery, useQueryClient } from 'react-query'\r\n/** @jsxImportSource @emotion/react */\r\nimport 'twin.macro'\r\nimport Navbar from '../components/Navbar'\r\nimport CancelIcon from '@mui/icons-material/Cancel'\r\nimport { cancelReservationRequest } from '../models/cancelReservationRequest'\r\nimport { removeReservationRequest } from '../models/removeReservation'\r\nimport DeleteForeverIcon from '@mui/icons-material/DeleteForever'\r\nimport moment from 'moment'\r\n\r\nfunction UserReservations() {\r\n  const queryClient = useQueryClient()\r\n\r\n  const [open, setOpen] = useState(false)\r\n  const [severity, setSeverity] = useState<AlertColor>('success')\r\n  const [message, setMessage] = useState('')\r\n  const handleClose = () => {\r\n    setOpen(false)\r\n  }\r\n  const { data } = useQuery('all-user-reservations', () =>\r\n    axios.get<any>('/all-user-reservations').then((res) => {\r\n      console.log(JSON.stringify(res.data))\r\n      return res.data\r\n    }),\r\n  )\r\n  const cancelVisitMutation = useMutation<any, any, cancelReservationRequest>(\r\n    (removeData) => {\r\n      return axios.put('/cancel-user-reservation', removeData)\r\n    },\r\n    {\r\n      onSuccess: ({ data }) => {\r\n        queryClient.invalidateQueries('all-user-reservations')\r\n        console.log(JSON.stringify(data))\r\n        setSeverity('success')\r\n        setOpen(true)\r\n        setMessage(data)\r\n      },\r\n      onError: (err) => {\r\n        console.log(err.response.data.msg)\r\n        setSeverity('error')\r\n        setOpen(true)\r\n        setMessage(err.response.data.msg)\r\n      },\r\n    },\r\n  )\r\n\r\n  return (\r\n    <div>\r\n      <Snackbar open={open} autoHideDuration={6000} onClose={handleClose}>\r\n        <Alert onClose={handleClose} severity={severity} sx={{ width: '100%' }}>\r\n          {message}\r\n        </Alert>\r\n      </Snackbar>\r\n      <Navbar />\r\n      <p tw=\"text-center text-3xl font-bold pb-10\">Rezerwacje użytkownika</p>\r\n      <List tw=\"max-w-xl m-auto\" sx={{ width: '100%', bgcolor: 'background.paper' }}>\r\n        {data?.length === 0 && <p tw=\"text-center\">Aktualnie użytkownik nie posiada rezerwacji.</p>}\r\n        {data?.map((reservation: any, j: any) => (\r\n          <ListItem\r\n            key={j}\r\n            tw=\"border-b-2\"\r\n            secondaryAction={\r\n              <>\r\n                {reservation.reservation_status === 'reserved' && (\r\n                  <IconButton onClick={() => cancelVisitMutation.mutate({ id: reservation.id })}>\r\n                    <CancelIcon />\r\n                  </IconButton>\r\n                )}\r\n              </>\r\n            }\r\n          >\r\n            <ListItemText\r\n              secondaryTypographyProps={{ color: 'red' }}\r\n              primary={\r\n                moment(reservation.datetime_start).format('DD.MM.YYYY').toString() +\r\n                ' - ' +\r\n                moment(reservation.datetime_start).format('HH:mm') +\r\n                '-' +\r\n                moment(reservation.datetime_end).format('HH:mm') +\r\n                '  -  ' +\r\n                reservation.user.firstName +\r\n                ' ' +\r\n                reservation.user.lastName\r\n              }\r\n              secondary={\r\n                reservation?.user\r\n                  ? '' +\r\n                    'Zarezerwowane dnia ' +\r\n                    ' ' +\r\n                    moment(reservation?.timestamp).format('DD.MM.YYYY') +\r\n                    ' o godzinie ' +\r\n                    moment(reservation?.timestamp).format('HH:mm')\r\n                  : ''\r\n              }\r\n            />\r\n          </ListItem>\r\n        ))}\r\n      </List>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserReservations\r\n","import React from 'react'\r\nimport { Route, Switch } from 'react-router'\r\n\r\nimport Home from '../pages/Home'\r\nimport Login from '../pages/Login'\r\nimport Logout from '../pages/Logout'\r\nimport Owner from '../pages/Owner'\r\nimport Register from '../pages/Register'\r\nimport Specialists from '../pages/Specialists'\r\nimport Unauthorized from '../pages/Unauthorized'\r\nimport SpecialistAddVisit from '../pages/SpecialistAddVisit'\r\n\r\nimport SpecialistsList from '../pages/SpecialistsList'\r\nimport OwnerAddSpecialist from '../pages/OwnerAddSpecialist'\r\nimport SpecialistVisits from '../pages/SpecialistVisits'\r\nimport SpecialistRemoveVisits from '../pages/SpecialistRemoveVisits'\r\nimport UserSpecialistVisits from '../pages/UserSpecialistVisits'\r\nimport UserReservations from '../pages/UserReservations'\r\n\r\nconst Navigation = () => {\r\n  return (\r\n    <Switch>\r\n      {/* common */}\r\n      <Route path=\"/\" component={Home} exact />\r\n      <Route path=\"/login\" component={Login} exact />\r\n      <Route path=\"/register\" component={Register} exact />\r\n      <Route path=\"/unauthorized\" component={Unauthorized} exact />\r\n      {/* user */}\r\n      <Route path=\"/specialists\" component={Specialists} exact />\r\n      <Route path=\"/specialist-visits/:id\" component={UserSpecialistVisits} exact />\r\n      <Route path=\"/logout\" component={Logout} exact />\r\n      <Route path=\"/user-reservations\" component={UserReservations} exact />\r\n      {/* specialists */}\r\n      <Route path=\"/add-visit\" component={SpecialistAddVisit} exact />\r\n      <Route path=\"/show-visits\" component={SpecialistVisits} exact />\r\n      <Route path=\"/specialists-list\" component={SpecialistsList} exact />\r\n      <Route path=\"/delete-visits\" component={SpecialistRemoveVisits} exact />\r\n      {/* owner */}\r\n      <Route path=\"/owner\" component={Owner} exact />\r\n\r\n      <Route path=\"/specialist-add\" component={OwnerAddSpecialist} exact />\r\n    </Switch>\r\n  )\r\n}\r\n\r\nexport default Navigation\r\n","import axios from 'axios'\r\nimport React, { useContext } from 'react'\r\nimport { useQuery } from 'react-query'\r\nimport UserContext from '../common/UserContext'\r\nimport { userByTokenResponse } from '../models/userByTokenResponse'\r\n\r\nconst UserContextUpdate = () => {\r\n  const userContext = useContext(UserContext)\r\n  const token = localStorage.getItem('token')\r\n\r\n  useQuery(\r\n    'context-fill',\r\n    () =>\r\n      axios.get<userByTokenResponse>('/user-by-token').then((res) => {\r\n        if (res && res?.data) {\r\n          if (token) {\r\n            userContext.setUser(res.data)\r\n          }\r\n        }\r\n      }),\r\n    { enabled: !!token },\r\n  )\r\n  return <div />\r\n}\r\n\r\nexport default UserContextUpdate\r\n","import React, { useState } from 'react'\nimport 'tailwindcss/tailwind.css'\nimport { QueryClient, QueryClientProvider } from 'react-query'\n\nimport Navigation from './components/Navigation'\nimport UserContext, { initData } from './common/UserContext'\nimport { ConfigProvider } from 'react-avatar'\nimport UserContextUpdate from './components/UserContextUpdate'\nimport { BrowserRouter } from 'react-router-dom'\nimport { GlobalStyles } from 'twin.macro'\nconst queryClient = new QueryClient()\n\n\nfunction App() {\n  const [user, setUser] = useState(initData)\n  return (\n    <BrowserRouter>\n      <QueryClientProvider client={queryClient}>\n        <ConfigProvider colors={['red', 'green']}>\n          <main>\n            \n            <UserContext.Provider value={{ user, setUser }}>\n              <UserContextUpdate />\n              <GlobalStyles />\n              <Navigation />\n            </UserContext.Provider>\n            \n          </main>\n        </ConfigProvider>\n      </QueryClientProvider>\n    </BrowserRouter>\n  )\n}\n\nexport default App\n","import axios, { AxiosRequestConfig } from 'axios'\r\nimport { useHistory } from 'react-router-dom'\r\n// TODO: API URL should come from env variable\r\naxios.defaults.baseURL = 'http://localhost:3001/'\r\n\r\naxios.interceptors.response.use(\r\n  function (response) {\r\n    return response\r\n  },\r\n  function (error) {\r\n    if (error && error.request && error.request.status === 403) {\r\n      // const routerHistory = useHistory()\r\n      // routerHistory.push({ pathname: '/specialists', state: { isSuccess: true } })\r\n      console.log('Forbidden.')\r\n      //TODO: change this to env variable\r\n      window.location.href = 'http://localhost:3000/unauthorized'\r\n    }\r\n    return Promise.reject(error)\r\n  },\r\n)\r\n\r\naxios.interceptors.request.use(function (config: AxiosRequestConfig) {\r\n  const token = localStorage.getItem('token')\r\n  if (config && config.headers) config.headers['Authorization'] = token || ''\r\n  return config\r\n})\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport { BrowserRouter } from 'react-router-dom'\nimport './utils/axiosInterceptor'\nimport 'tailwindcss/dist/base.min.css'\nReactDOM.render(\n  // <React.StrictMode>\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  // </React.StrictMode>,\n  document.getElementById('root'),\n)\n"],"sourceRoot":""}